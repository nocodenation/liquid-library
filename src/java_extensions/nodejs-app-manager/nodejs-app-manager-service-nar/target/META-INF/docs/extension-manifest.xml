<extensionManifest><groupId>org.nocodenation.nifi</groupId><artifactId>nodejs-app-manager-service-nar</artifactId><version>1.0.0-SNAPSHOT</version><parentNar><groupId>org.nocodenation.nifi</groupId><artifactId>nodejs-app-manager-service-api-nar</artifactId><version>1.0.0-SNAPSHOT</version></parentNar><systemApiVersion>2.0.0</systemApiVersion><buildInfo></buildInfo><extensions><extension><name>org.nocodenation.nifi.nodejsapp.StandardNodeJSApplicationManagerService</name><type>CONTROLLER_SERVICE</type><description>Manages the lifecycle of a Node.js application, providing start/stop control, health monitoring, and log capture capabilities. The service launches the Node.js application as a child process and monitors its health, with optional auto-restart on failure.</description><tags><tag>nodejs</tag><tag>node</tag><tag>javascript</tag><tag>application</tag><tag>process</tag><tag>management</tag></tags><properties><property><name>application-path</name><displayName>Application Path</displayName><description>Absolute path to the Node.js application directory (containing package.json)</description><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>node-executable</name><displayName>Node Executable Path</displayName><description>Path to the Node.js executable. If not specified, 'node' from system PATH will be used.</description><defaultValue>node</defaultValue><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>package-manager</name><displayName>Package Manager</displayName><description>Package manager to use for running the application. If set to 'Auto', the service will detect the package manager from lock files (bun.lock, pnpm-lock.yaml, yarn.lock, or package-lock.json in that order).</description><defaultValue>Auto</defaultValue><allowableValues><allowableValue><displayName>Auto</displayName><value>Auto</value><description></description></allowableValue><allowableValue><displayName>npm</displayName><value>npm</value><description></description></allowableValue><allowableValue><displayName>yarn</displayName><value>yarn</value><description></description></allowableValue><allowableValue><displayName>pnpm</displayName><value>pnpm</value><description></description></allowableValue><allowableValue><displayName>bun</displayName><value>bun</value><description></description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>start-command</name><displayName>Start Command</displayName><description>The npm/yarn/pnpm/bun script to execute (e.g., 'start', 'dev', 'prod'). This should match a script defined in package.json.</description><defaultValue>start</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>application-port</name><displayName>Application Port</displayName><description>Port number on which the Node.js application listens. Used for health checks and constructing the application URL.</description><defaultValue>3000</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>application-host</name><displayName>Application Host</displayName><description>Hostname or IP address on which the Node.js application listens.</description><defaultValue>localhost</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>environment-variables</name><displayName>Environment Variables</displayName><description>Environment variables to set for the Node.js process, in the format: KEY1=value1;KEY2=value2. These are merged with system environment variables.</description><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>node-env</name><displayName>NODE_ENV</displayName><description>Value for the NODE_ENV environment variable (development, production, test, etc.)</description><defaultValue>production</defaultValue><allowableValues><allowableValue><displayName>development</displayName><value>development</value><description></description></allowableValue><allowableValue><displayName>production</displayName><value>production</value><description></description></allowableValue><allowableValue><displayName>test</displayName><value>test</value><description></description></allowableValue></allowableValues><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>enable-health-check</name><displayName>Enable Health Check</displayName><description>Enable HTTP-based health checking of the Node.js application</description><defaultValue>true</defaultValue><allowableValues><allowableValue><displayName>true</displayName><value>true</value><description></description></allowableValue><allowableValue><displayName>false</displayName><value>false</value><description></description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>health-check-path</name><displayName>Health Check Path</displayName><description>HTTP endpoint path for health checks (e.g., '/health', '/api/health'). The endpoint should return HTTP 200 when healthy.</description><defaultValue>/health</defaultValue><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>true</expressionLanguageSupported><expressionLanguageScope>ENVIRONMENT</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>enable-health-check</propertyName><propertyDisplayName>Enable Health Check</propertyDisplayName><dependentValues><dependentValue>true</dependentValue></dependentValues></dependency></dependencies></property><property><name>health-check-interval</name><displayName>Health Check Interval</displayName><description>How frequently to perform health checks</description><defaultValue>30 sec</defaultValue><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>enable-health-check</propertyName><propertyDisplayName>Enable Health Check</propertyDisplayName><dependentValues><dependentValue>true</dependentValue></dependentValues></dependency></dependencies></property><property><name>health-check-timeout</name><displayName>Health Check Timeout</displayName><description>Maximum time to wait for a health check response before considering it failed</description><defaultValue>5 sec</defaultValue><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>enable-health-check</propertyName><propertyDisplayName>Enable Health Check</propertyDisplayName><dependentValues><dependentValue>true</dependentValue></dependentValues></dependency></dependencies></property><property><name>startup-timeout</name><displayName>Startup Timeout</displayName><description>Maximum time to wait for the application to start and become healthy</description><defaultValue>60 sec</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>shutdown-timeout</name><displayName>Shutdown Timeout</displayName><description>Maximum time to wait for graceful shutdown (SIGTERM) before forcing termination (SIGKILL)</description><defaultValue>30 sec</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>auto-restart</name><displayName>Auto Restart on Failure</displayName><description>Automatically restart the application if it crashes or becomes unhealthy</description><defaultValue>true</defaultValue><allowableValues><allowableValue><displayName>true</displayName><value>true</value><description></description></allowableValue><allowableValue><displayName>false</displayName><value>false</value><description></description></allowableValue></allowableValues><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property><property><name>max-restart-attempts</name><displayName>Max Restart Attempts</displayName><description>Maximum number of restart attempts before giving up. Restart counter resets after the application runs successfully for 5 minutes.</description><defaultValue>3</defaultValue><required>false</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic><dependencies><dependency><propertyName>auto-restart</propertyName><propertyDisplayName>Auto Restart on Failure</propertyDisplayName><dependentValues><dependentValue>true</dependentValue></dependentValues></dependency></dependencies></property><property><name>log-buffer-size</name><displayName>Log Buffer Size</displayName><description>Maximum number of log lines to buffer from the Node.js application (stdout/stderr)</description><defaultValue>1000</defaultValue><required>true</required><sensitive>false</sensitive><expressionLanguageSupported>false</expressionLanguageSupported><expressionLanguageScope>NONE</expressionLanguageScope><dynamicallyModifiesClasspath>false</dynamicallyModifiesClasspath><dynamic>false</dynamic></property></properties><providedServiceAPIs><providedServiceAPI><className>org.nocodenation.nifi.nodejsapp.NodeJSApplicationManagerService</className><groupId>org.nocodenation.nifi</groupId><artifactId>nodejs-app-manager-service-api-nar</artifactId><version>1.0.0-SNAPSHOT</version></providedServiceAPI></providedServiceAPIs></extension></extensions></extensionManifest>